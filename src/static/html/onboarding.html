<!DOCTYPE html>
<html data-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
        <link rel="stylesheet" href="../css/index.css" />
        <script type="module" src="../js/onboarding.js"></script>
    </head>
    <body>
        <div class="container is-fullheight" id="onboarding">
            <!-- SlimeTora Setup -->
            <div class="onboarding-step" id="step-1">
                <div>
                    <div class="main-container">
                        <!-- Logo -->
                        <div class="logo-container">
                            <img src="../images/logo.webp" alt="SlimeTora logo" />
                        </div>
                        <!-- Title -->
                        <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.title">
                            Welcome to SlimeTora!
                        </h2>
                        <!-- Language container -->
                        <div class="language-container" style="top: 0">
                            <div class="control has-icons-left">
                                <div class="icon">
                                    <img src="../images/language.svg" alt="Language icon" />
                                </div>
                                <div class="select">
                                    <div style="position: relative">
                                        <select id="language-select">
                                            <!-- Languages populated here -->
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <p class="subtitle has-text-centered" data-i18n="onboarding.text">
                        SlimeTora is a middleware program that allows you to connect your HaritoraX trackers to the
                        SlimeVR server, bypassing the official software!<br />
                        <br />
                        To get started, select how you would like to set up the program. After you set up the program,
                        you will be guided on how to set up SlimeVR server.
                    </p>
                </div>
                <div>
                    <div class="buttons is-centered">
                        <button class="button is-primary" id="step1-button" data-i18n="onboarding.steps.step-2.title">
                            Guided setup
                        </button>
                        <button class="button is-danger" id="skip-button" data-i18n="onboarding.manual">
                            Manual setup (skip)
                        </button>
                    </div>
                </div>
            </div>

            <div class="onboarding-step" id="step-2" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-2.title">
                        Guided setup
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-2.text">
                        Guided setup will help you through the process of setting up the program step-by-step. You can
                        let the program try to auto-detect your settings or answer the questions about your setup.<br />
                        <br />
                        It is recommended (but not necessary) to have at least one of your trackers turned on and
                        connected to your computer before continuing. When you are ready, click the "Next" button.
                    </p>
                </div>
                <div>
                    <div class="buttons is-centered">
                        <button class="button is-info" id="back-step2-button" data-i18n="onboarding.back">Back</button>
                        <button class="button is-primary" id="next-step2-button" data-i18n="onboarding.next">
                            Next
                        </button>
                    </div>
                </div>
            </div>
            <div class="onboarding-step" id="step-3" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-3.title">
                        Tracker setup
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-3.text">
                        Press either button found below to set up the connection (and settings) to your trackers. You
                        can either let the program try to auto-detect your settings, or answer the questions about your
                        setup if you prefer / if auto-detection fails.
                    </p>
                </div>
                <div class="buttons is-centered">
                    <button
                        class="button is-primary"
                        id="questions-button"
                        onclick="questions()"
                        data-i18n="onboarding.steps.step-3.questions"
                    >
                        Manual (questions)
                    </button>
                    <button
                        class="button is-info"
                        id="autodetect-button"
                        onclick="autodetect()"
                        data-i18n="onboarding.steps.step-3.autodetect"
                    >
                        Automatic (auto-detection)
                    </button>
                </div>
                <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-3.text2">
                    If you are happy with the settings you (or auto-detection) has chosen, click the "Next" button to
                    continue.
                </p>
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step3-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step3-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <!-- SlimeVR setup -->
            <div class="onboarding-step" id="step-4" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-4.title">
                        SlimeVR setup
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-4.text">
                        Now we're sure you know what SlimeVR is, right? It's the reason why you downloaded SlimeTora in
                        the first place - it's a software that allows for communication between multiple
                        sensors/trackers to use in SteamVR, like the official software.
                    </p>
                </div>
                <a
                    class="button is-primary"
                    href="https://github.com/SlimeVR/SlimeVR-Server/releases/latest"
                    target="_blank"
                    data-i18n="onboarding.steps.step-4.download"
                >
                    Download SlimeVR Server
                </a>
                <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-4.text2">
                    To use SlimeTora, you need to have SlimeVR server installed on your computer. If you don't have it
                    installed yet, click the button above to download and install it. After, press the "Next" button to
                    learn how to set it up for SlimeTora.
                </p>
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step4-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step4-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-5" style="display: none">
                <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-5.title">
                    SlimeVR connection
                </h2>
                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 2rem">
                    <p class="subtitle has-text-centered" style="margin: 0" data-i18n="onboarding.steps.step-5.text">
                        At this point, you will now want to connect your VR headset to your PC - it's time to put on
                        your trackers! Make sure your trackers (and VR headset) are connected and press the "Start
                        connection" button to connect them to the SlimeVR Server.
                    </p>
                    <div class="is-flex is-flex-direction-column is-align-items-center" style="width: 100%">
                        <div class="subtitle has-text-centered">
                            <h2 class="has-text-weight-medium inline-block" data-i18n="main.status.statusText">
                                Status:
                            </h2>
                            <p class="has-text-weight-medium inline-block" data-i18n="main.status.none" id="status">
                                N/A
                            </p>
                        </div>
                        <div class="subtitle has-text-centered">
                            <h3 class="inline-block" data-i18n="main.connectedTrackers">Connected trackers:</h3>
                            <p class="inline-block" id="tracker-count">0</p>
                        </div>
                    </div>
                </div>
                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 1rem">
                    <button
                        class="button is-primary"
                        id="start-connection-button"
                        onclick="runStartConnection()"
                        data-i18n="main.startConnection"
                    >
                        Start connection
                    </button>
                    <button
                        class="button is-danger"
                        id="stop-connection-button"
                        onclick="runStopConnection()"
                        disabled="true"
                        data-i18n="main.stopConnection"
                    >
                        Stop connection
                    </button>
                </div>
                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 2rem">
                    <img
                        width="300px"
                        src="../images/onboarding/new_tracker.webp"
                        alt="SlimeVR Server pop-up stating a new tracker was found."
                    />
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-5.text2">
                        When you see all your trackers connected above, check SlimeVR Server and accept all "A new
                        tracker was found" pop-ups. Click the "Next" button to continue to the next step.
                    </p>
                </div>
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step5-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step5-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-6" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-6.title">
                        Tracker Assignment
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-6.text">
                        With your trackers connected, you can go through the initial setup of SlimeVR Server. Click
                        "Let's get set up!", then "Skip Wi-Fi settings", and then "I put stickers and straps!". Next,
                        assign your trackers to the correct body part - an example is shown in the screenshot below.
                    </p>
                </div>
                <img
                    src="../images/onboarding/tracker_assign.webp"
                    alt="Tracker assignment page in SlimeVR Server"
                    style="height: 300px"
                />
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step6-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step6-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-7" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-7.title">
                        Mounting calibration
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-7.text">
                        After assigning the trackers, you will be brought to the mounting calibration screen. Select
                        "Automatic Mounting" <b>(highly recommended)</b> and follow the on-screen instructions on how to
                        do a mounting calibration. If it does not look right after the calibration, you can always redo
                        it until it's accurate.
                    </p>
                </div>
                <img
                    src="../images/onboarding/mounting_calibration.webp"
                    alt="Tracker assignment page in SlimeVR Server"
                    style="height: 300px"
                />
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step7-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step7-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-8" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-8.title">
                        Resets & calibration
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-8.text">
                        You will now see a small tutorial on how to perform "resets" in SlimeVR. With SlimeTora (along
                        with SlimeVR's tap-to-reset), you may physically press any of the buttons on your trackers a
                        number of times (within 0.5s). See the list for the reset options:
                    </p>
                </div>

                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 2rem">
                    <img
                        src="../images/onboarding/reset.webp"
                        alt="Tracker assignment page in SlimeVR Server"
                        style="height: 300px"
                    />
                    <ul class="list has-bullets" style="width: 100%">
                        <li class="subtitle is-5" data-i18n="onboarding.steps.step-8.list.1">1 press - yaw reset</li>
                        <li class="subtitle is-5" data-i18n="onboarding.steps.step-8.list.2">2 presses - full reset</li>
                        <li class="subtitle is-5" data-i18n="onboarding.steps.step-8.list.3">
                            3 presses - mounting reset
                        </li>
                        <li class="subtitle is-5" data-i18n="onboarding.steps.step-8.list.4">
                            4 presses - pause/unpause tracking
                        </li>
                    </ul>
                </div>

                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step8-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step8-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-9" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-9.title">
                        When to reset
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-9.text">
                        Here are the explanations of the three different resets and when they would be used:
                    </p>
                </div>
                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 2rem">
                    <figure class="is-flex-grow-1">
                        <!-- Image credit: SlimeVR (https://github.com/SlimeVR/SlimeVR-Server) -->
                        <img src="../images/onboarding/reset_pose.webp" alt="Full reset pose" style="height: 350px" />
                        <figcaption
                            class="subtitle is-6 has-text-centered"
                            data-i18n="onboarding.steps.step-9.caption1"
                        >
                            Full reset pose
                        </figcaption>
                    </figure>
                    <div class="is-flex-shrink-5">
                        <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-9.text2">
                            A <b>yaw</b> reset is the <strong>one you will use the most</strong>, it eliminates most (if
                            not all) drift on one axis. This is less accurate but the fastest and most convenient. You
                            only need to straighten your limbs - this can even be used while laying or sitting down!
                        </p>
                        <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-9.text3">
                            A <b>full</b> reset is the most accurate and completely resets the skeleton in SlimeVR. You
                            must be standing up and straight while doing this reset.
                        </p>
                        <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-9.text4">
                            A <b>mounting</b> reset is used when the position of your trackers have physically moved (or
                            mounting calibration is off). You must be in a "ski pose" while doing this reset.
                        </p>
                    </div>
                    <figure class="is-flex-grow-1">
                        <!-- Image credit: SlimeVR (https://github.com/SlimeVR/SlimeVR-Server) -->
                        <img
                            src="../images/onboarding/mounting_reset_pose.webp"
                            alt="Mounting reset pose"
                            style="height: 350px"
                        />
                        <figcaption
                            class="subtitle is-6 has-text-centered"
                            data-i18n="onboarding.steps.step-9.caption2"
                        >
                            Mounting reset pose
                        </figcaption>
                    </figure>
                </div>
                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step9-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step9-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-10" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-10.title">
                        Body proportions
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-10.text">
                        SlimeVR applies your body proportions on a virtual skeleton for accurate tracking. Select
                        "Automatic proportions" and follow the on-screen instructions calibrate by following a set of
                        movements. <b>You only need to do this once and is also optional!</b> If you have issues, you
                        can always retry or use the defaults ("Reset all proportions").
                    </p>
                </div>

                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 2rem">
                    <img
                        src="../images/onboarding/body_proportions.webp"
                        alt="Tracker assignment page in SlimeVR Server"
                        style="height: 280px"
                    />
                    <!-- Video credit: SlimeVR (https://github.com/SlimeVR/SlimeVR-Server) -->
                    <video src="../videos/autobone.webm" autoplay loop style="height: 320px"></video>
                </div>

                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step10-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step10-button" data-i18n="onboarding.next">Next</button>
                </div>
            </div>

            <div class="onboarding-step" id="step-11" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced" data-i18n="onboarding.steps.step-11.title">
                        Relaunching SlimeVR
                    </h2>
                    <p class="subtitle has-text-centered" data-i18n="onboarding.steps.step-11.text">
                        When relaunching SlimeVR, perform a "Full Reset" and then a "Mounting Reset\" before calibrating
                        in-game.
                        <b
                            >Again, you do not have to perform the proportions calibration again - it is only done
                            once!</b
                        >
                        Make sure to refer to the SlimeTora wiki or watch videos on how to get the best from SlimeVR -
                        ZRock35 is a great person to watch!
                    </p>
                </div>

                <!-- hi zrock :3 -->
                <a
                    class="button is-primary"
                    href="https://www.youtube.com/watch?v=SYqfQdVseF4"
                    target="_blank"
                    data-i18n="onboarding.steps.step-11.watch"
                >
                    Watch calibration video
                </a>

                <div class="is-flex is-flex-direction-row is-align-items-center" style="gap: 1.5rem">
                    <img
                        src="../images/onboarding/resets.webp"
                        alt="Reset options in the SlimeVR Server home page"
                        style="height: 210px"
                    />
                    <img
                        src="../images/onboarding/zrock35.webp"
                        alt="ZRock35 YouTube channel & calibration video"
                        style="height: 210px"
                    />
                </div>

                <div class="buttons is-centered">
                    <button class="button is-info" id="back-step11-button" data-i18n="onboarding.back">Back</button>
                    <button class="button is-primary" id="next-step11-button" data-i18n="onboarding.finish">
                        Finish
                    </button>
                </div>
            </div>
        </div>
    </body>
</html>
