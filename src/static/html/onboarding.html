<!DOCTYPE html>
<html data-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
        <link rel="stylesheet" href="../css/index.css" />
        <script type="module" src="../js/onboarding.js"></script>
    </head>
    <body>
        <!-- Onboarding section -->
        <div class="container is-fullheight" id="onboarding">
            <!-- Step 1: Initial Setup Choice -->
            <div class="onboarding-step" id="step-1">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced">Welcome to SlimeTora!</h2>
                    <p class="subtitle has-text-centered">
                        SlimeTora is a program that allows you to connect your HaritoraX trackers to the SlimeVR server,
                        bypassing HaritoraConfigurator!<br />
                        <br />
                        To get started, select how you would like to set up the program. After you set up the program,
                        you will be guided on how to set up SlimeVR server.
                    </p>
                </div>
                <div>
                    <div class="buttons is-centered">
                        <button class="button is-primary" id="automatic-setup-button">Automatic setup</button>
                        <button class="button is-primary" id="manual-setup-button">Manual setup</button>
                    </div>
                    <div class="buttons is-centered">
                        <button class="button is-danger" onclick="window.close()">Skip setup</button>
                    </div>
                </div>
            </div>

            <!-- Automatic Setup Steps -->
            <div class="onboarding-step" id="step-2-automatic" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced">Automatic Setup - Step 1</h2>
                    <p class="subtitle has-text-centered">
                        Automatic setup allows you to let the program try to automatically detect your settings and set
                        up the program for you. It is the recommended mode and supports all tracker models and
                        connection modes.<br />
                        <br />
                        It is recommended (but not necessary) to have at least one of your trackers turned on and connected
                        to your computer before continuing. When you are ready, click the "Next" button.
                    </p>
                </div>
                <div>
                    <div class="buttons is-centered">
                        <button class="button is-primary" id="next-automatic-button">Next</button>
                        <button class="button is-info" id="back-automatic-button">Back</button>
                    </div>
                </div>
            </div>
            <div class="onboarding-step" id="step-3-automatic" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced">Automatic Setup - Step 2</h2>
                    <p class="subtitle has-text-centered">
                        Press the button below to start the auto-detection process. The process may take up to 20
                        seconds to complete, <strong>make sure HaritoraConfigurator is closed</strong>.<br />
                        <br />
                        After the process is complete, you will receive a pop-up with the results - make sure they are
                        accurate. If the process fails, you can try again or switch to manual setup.<br />
                    </p>
                </div>
                <button class="button is-primary" id="autodetect-button" onclick="autodetect()">
                    Start auto-detection
                </button>
                <p class="subtitle has-text-centered">
                    If you are happy with the results, click the "Finish SlimeTora Setup" button to continue. Otherwise, you may switch
                    to manual setup.
                </p>
                <div class="buttons is-centered">
                    <button class="button is-primary" id="finish-automatic-button">Finish SlimeTora Setup</button>
                    <button class="button is-info" id="back-automatic-step2-button">Back</button>
                </div>
            </div>

            <!-- Manual Setup Steps -->
            <div class="onboarding-step" id="step-2-manual" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced">Manual Setup - Step 1</h2>
                    <p class="subtitle has-text-centered">
                        SlimeTora is a program that allows you to connect your HaritoraX trackers to the SlimeVR server,
                        bypassing HaritoraConfigurator!<br />
                        <br />
                        To get started, select how you would like to set up the program.
                    </p>
                </div>
                <div class="buttons is-centered">
                    <button class="button is-primary" id="next-manual-button">Next</button>
                    <button class="button is-info" id="back-manual-button">Back</button>
                </div>
            </div>
            <div class="onboarding-step" id="step-3-manual" style="display: none">
                <div>
                    <h2 class="title is-2 has-text-centered is-spaced">Manual Setup - Step 2</h2>
                    <p class="subtitle has-text-centered">
                        SlimeTora is a program that allows you to connect your HaritoraX trackers to the SlimeVR server,
                        bypassing HaritoraConfigurator!<br />
                        <br />
                        To get started, select how you would like to set up the program.
                    </p>
                </div>
                <div class="buttons is-centered">
                    <button class="button is-primary" id="finish-manual-button">Finish SlimeTora Setup</button>
                    <button class="button is-info" id="back-manual-step2-button">Back</button>
                </div>
            </div>
        </div>
    </body>
</html>
